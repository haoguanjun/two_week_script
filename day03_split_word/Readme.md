
## 正则表达式

https://regexper.com/

在线分析正则表达式

### 分组

定义分组的 3 种形式：
* 编号分组，直接使用圆括号表示，例如 (exp)
* 定义命名分组，(?P<name>exp)
* 不捕获分组，例如 (?:exp)

#### 编号的分组
() 表示分组，被括号括起来的部分被当作一个分组。
分组的编号规则，从左往右，第几个左括号就是第几个分组。
需要注意的是，存在一个隐含的全局分组，编号为 0，就是整个正则表达式。

#### 不捕获分组
分组可以被丢弃，使用 (?:正则表达式) 表示。此时分组只用于组织，不分配编号，后面也不会对这一部分再进行引用。

不保存分组的好处：
* 不保存分组可以提高性能
* 分组变少来，在分组计数时不容易出错。
* 

#### 引用分组
当知道分组编号之后，可以引用分组。
反斜杠 + 编号，例如：\1 表示引用分组1。
分组可以用来查找重复的词。
例如，(\w+)\1

如果引用命名分组，使用 (?P=name) 进行引用

####
  
punctuation 标点符号
  
\\p{Punct} A punctuation character:\p{IsPunctuation}
  
Punctuation: One of !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~
  
https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html
  
  
## 分析

代码中使用的正则表达式使用了转义字符，取消转义之后的结果为
```
\s*((//.*)|([0-9]+)|("(\"|\\|\n|[^"])*")|([A-Z_a-z][A-Z_a-z0-9]*)|==|<=|>=|&&|\|\||[\p{S}\p{P}])?
```

可以看到

* 分组 1: ((//.*)|([0-9]+)|("(\\"|\\\\|\\n|[^"])*")|([A-Z_a-z][A-Z_a-z0-9]*)|==|<=|>=|&&|\|\||[\p{S}\p{P}])
* 分组 2：(//.*)                        注释行
* 分组 3：([0-9]+)                      数值
* 分组 4：("(\\"|\\\\|\\n|[^"])*")          包含双引号的字符串
* 分组 5：(\\"|\\\\|\\n|[^"])*              剔除双引号之后的字符串内容
* 分组 6：([A-Z_a-z][A-Z_a-z0-9]*)      标识符

默认分组 0 表示整个正则表达式。

所以，匹配的数值分组为分组 3，而字符串为分组 4。Id 为分组 6，而其它标识符则使用分组 0 来表示了。


## 参考资料
* [转载：正则表达式30分钟入门教程](https://z.wiki/tools/reg/)
* [正则表达式30分钟入门教程](https://deerchao.cn/tutorials/regex/regex.htm)
* [正则表达式 第三篇：分组和捕获](https://www.cnblogs.com/ljhdo/p/10678281.html)


